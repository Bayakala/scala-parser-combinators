sudo: required

language: scala
jdk:
  - oraclejdk8
  - openjdk11

scala:
  - 2.11.12
  - 2.12.8
  - 2.13.0-RC1

env:
  global:
    # PGP_PASSPHRASE
    - secure: "V26Fhb7XUEObSP9GKJPu3bkKzSRrIXjUZaGvME44s+SZk0FDH2thTqU9TMX4ywKfEAkKisZgS8dYG8ghryrwHE5lBkutwElflE5dPgvP6qeUmDqOmyNETerHQj7eymj2OO592GOniBvrQXcq1ZdWlkahk5/Yc76lJ5XIbm1ZW20="
    # SONA_USER
    - secure: "aFBDA6GMviB12GZRNFYdgqAkF9nZ1CS16Ukwcxc1hp2bzqRoOY/H6BNlwtkvF3XuTCahgtimuc01SKof0bT3UWYtoAIVGCRwrVfWNiW2QOie6nKP2zOFAFy1ss5fX+eoC2HybqucZGqXUX6y5JuDz5zBjXwbTHbnX2Fe9lzFJ4Y="
    # SONA_PASS
    - secure: "O3CKOQPb5WKcPgLfr/1DvTdVpa7QlJcJ1pppHyxJpnw2d5vyF8/tZYGww03Lxgc+8JcEzfaV7fR7FiIzgZEZDRuhMf9XKxEI6H4ruV+4Dvw2bskyo3sZmWVSGlUdOPP3cwk/dUEPz4dF946TyfSm9ozJt1DzBtzGQDKHBpFYOLY="
  matrix:
    # The empty SCALAJS_VERSION will only compile for the JVM
    - SCALAJS_VERSION=
    - SCALAJS_VERSION=0.6.27
    - SCALAJS_VERSION=1.0.0-M7

script: admin/build.sh

notifications:
  email:
    - adriaan.moors@lightbend.com
    - seth.tisue@lightbend.com
    - antoine@gourlay.fr

before_cache:
  - find $HOME/.sbt -name "*.lock" | xargs rm
  - find $HOME/.ivy2/cache -name "ivydata-*.properties" | xargs rm
cache:
  directories:
  - $HOME/.ivy2/cache
  - $HOME/.sbt/boot
  - $HOME/.sbt/launchers
